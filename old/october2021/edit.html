<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Apple Event Bingo</title>

    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
    <style>
      textarea {
        height: 100%;
      }
    </style>
  </head>
  <body>
    <div class="main">
      <div class="title">
        <img src="hashflag.png" />
        <h2>
          <a
            href="https://www.youtube.com/channel/UC3c8H4Tlnm5M6pXsVMGnmNg"
            target="_blank"
            >Luke</a
          >
          &amp;
          <a href="https://twitter.com/nrubin29" target="_blank"> Noah</a
          >&rsquo;s
        </h2>
        <h1>Apple Event Bingo</h1>
        <h4>October 2021</h4>
      </div>
      <a href="#" id="save" class="btn btn-primary">Save</a>
      <br />
      <table class="table table-bordered">
        <tbody>
          <tr>
            <td>
              <textarea
                class="form-control"
                data-row="0"
                data-col="0"
              ></textarea>
            </td>
            <td>
              <textarea
                class="form-control"
                data-row="0"
                data-col="1"
              ></textarea>
            </td>
            <td>
              <textarea
                class="form-control"
                data-row="0"
                data-col="2"
              ></textarea>
            </td>
            <td>
              <textarea
                class="form-control"
                data-row="0"
                data-col="3"
              ></textarea>
            </td>
            <td>
              <textarea
                class="form-control"
                data-row="0"
                data-col="4"
              ></textarea>
            </td>
          </tr>
          <tr>
            <td>
              <textarea
                class="form-control"
                data-row="1"
                data-col="0"
              ></textarea>
            </td>
            <td>
              <textarea
                class="form-control"
                data-row="1"
                data-col="1"
              ></textarea>
            </td>
            <td>
              <textarea
                class="form-control"
                data-row="1"
                data-col="2"
              ></textarea>
            </td>
            <td>
              <textarea
                class="form-control"
                data-row="1"
                data-col="3"
              ></textarea>
            </td>
            <td>
              <textarea
                class="form-control"
                data-row="1"
                data-col="4"
              ></textarea>
            </td>
          </tr>
          <tr>
            <td>
              <textarea
                class="form-control"
                data-row="2"
                data-col="0"
              ></textarea>
            </td>
            <td>
              <textarea
                class="form-control"
                data-row="2"
                data-col="1"
              ></textarea>
            </td>
            <td>
              <textarea
                class="form-control"
                data-row="2"
                data-col="2"
              ></textarea>
            </td>
            <td>
              <textarea
                class="form-control"
                data-row="2"
                data-col="3"
              ></textarea>
            </td>
            <td>
              <textarea
                class="form-control"
                data-row="2"
                data-col="4"
              ></textarea>
            </td>
          </tr>
          <tr>
            <td>
              <textarea
                class="form-control"
                data-row="3"
                data-col="0"
              ></textarea>
            </td>
            <td>
              <textarea
                class="form-control"
                data-row="3"
                data-col="1"
              ></textarea>
            </td>
            <td>
              <textarea
                class="form-control"
                data-row="3"
                data-col="2"
              ></textarea>
            </td>
            <td>
              <textarea
                class="form-control"
                data-row="3"
                data-col="3"
              ></textarea>
            </td>
            <td>
              <textarea
                class="form-control"
                data-row="3"
                data-col="4"
              ></textarea>
            </td>
          </tr>
          <tr>
            <td>
              <textarea
                class="form-control"
                data-row="4"
                data-col="0"
              ></textarea>
            </td>
            <td>
              <textarea
                class="form-control"
                data-row="4"
                data-col="1"
              ></textarea>
            </td>
            <td>
              <textarea
                class="form-control"
                data-row="4"
                data-col="2"
              ></textarea>
            </td>
            <td>
              <textarea
                class="form-control"
                data-row="4"
                data-col="3"
              ></textarea>
            </td>
            <td>
              <textarea
                class="form-control"
                data-row="4"
                data-col="4"
              ></textarea>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
      $(document).ready(function () {
        var boardJson = localStorage.getItem("board");

        if (boardJson != null) {
          var board = JSON.parse(boardJson);

          for (var i = 0; i < 5; i++) {
            for (var j = 0; j < 5; j++) {
              $("textarea[data-row=" + i + "][data-col=" + j + "]").val(
                board[i][j]
              );
            }
          }
        }

        $("#save").click(function () {
          var board = new Array(5).fill(null).map(function () {
            return new Array(5).fill("&dash;");
          });

          $("textarea").each(function () {
            var row = parseInt(this.getAttribute("data-row"));
            var col = parseInt(this.getAttribute("data-col"));
            board[row][col] = this.value;
          });

          localStorage.setItem("board", JSON.stringify(board));
          location.href = "/bingo";
        });
      });
    </script>
  </body>
</html>
